<!DOCTYPE html >
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Profile</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <!-- Ajoutez le lien Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    .edit-window-container {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #0080ff;
      padding: 20px;
      border: 1px solid #0080ff;
      z-index: 1000;
    }
  </style>
</head>


<body>
<nav  class="navbar navbar-light" style="background-color:rgba(23, 16, 16, 0.91);">
<header>
  <h3 style=" color: white;"> Profile</h3>
</header>
</nav>
<div class="container rounded bg-white mt-5 mb-5" *ngIf="islogged()" >
  <div class="row" style="color: black" >
    <div class="col-md-3 user-info-container rounded bg-light" style="color: black" >
      <img class="rounded-circle mt-5" width="150px"
           src="https://imgs.search.brave.com/9pMxGifLAkbaimXtMvGF_750jz1x5Mcp-INtZ-EIqUk/rs:fit:860:0:0/g:ce/aHR0cHM6Ly9pbWcu/ZnJlZXBpay5jb20v/cHNkLWdyYXR1aXQv/Zm9ybWUtY2VyY2xl/LWlzb2xlXzE3NjM4/Mi03MjIuanBn"
           alt="Icône du menu" style="width: 100px; height:100px; margin-bottom: 1rem;">
      <div class="user-details" class="user-card">
        <div>
        <span class="font-weight-bold" id="username">{{User?.prenom}}</span>
        </div>
        <span class="text-black-50" id="useremail">{{User?.email}}</span>
      </div>
      <i class="fas fa-edit edit-icon"  [routerLink]="['/profile-settings', User?.id] "></i>
    </div>
    <div class="col-md-5 border-right" >
      <div class="p-3 py-5">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h4 class="text-right">Profile </h4>
        </div>
        <div class="row mt-2">
          <div class="col-md-6">
            <label class="labels">Name</label>
            <input type="text" class="form-control" id="firstName" placeholder="{{User?.nom}}" value="" readonly>
          </div>
          <div class="col-md-6">
            <label class="labels">Surname</label>
            <input type="text" class="form-control" id="lastName" placeholder="{{User?.prenom}}" value="" readonly>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-12">
            <label class="labels">Email</label>
            <input type="text" class="form-control" id="email" placeholder="{{User?.email}}" value="" readonly>
          </div>
          <div class="col-md-12">
            <label class="labels">Password</label>
            <div class="input-group">
              <input type="password" class="form-control" id="password" placeholder="{{User?.password}}" value="{{User?.password}}" >
              <div class="input-group-append">
                  <span class="input-group-text" onclick="togglePassword()" >
                    <i class="fa fa-eye" id="togglePassword"></i>
                  </span>
              </div>
            </div>
          </div>
        </div>
        <div class="mt-5 text-center">
          <div class="btn-group">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Fenêtre de modification -->
<div class="edit-window-container">
  <h4>Edit Profile</h4>
  <div class="row mt-2">
    <div class="col-md-6">
      <label class="labels">Name</label>
      <input type="text" class="form-control edit-form-control" id="editFirstName" placeholder="John" value="">
    </div>
    <div class="col-md-6">
      <label class="labels">Surname</label>
      <input type="text" class="form-control edit-form-control" id="editLastName" placeholder="Doe" value="">
    </div>
  </div>
  <div class="row mt-3">
    <div class="col-md-12">
      <label class="labels">Email</label>
      <input type="text" class="form-control edit-form-control" id="editEmail" placeholder="john@example.com" value="">
    </div>
    <div class="col-md-12">
      <label class="labels">Password</label>
      <input type="password" class="form-control edit-form-control" id="editPassword" placeholder="********" value="">
    </div>
  </div>
  <div class="mt-3 text-center">
    <button class="btn btn-primary" onclick="saveChanges()">Save Changes</button>
  </div>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.8/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
  window.togglePassword = function() {
    console.log("Toggle password function called");

    var passwordField = document.getElementById("password");
    var toggleButton = document.getElementById("togglePassword");

    if (passwordField.type === "password") {
      passwordField.type = "text";
      toggleButton.classList.remove("fa-eye");
      toggleButton.classList.add("fa-eye-slash");
    } else {
      passwordField.type = "password";
      toggleButton.classList.remove("fa-eye-slash");
      toggleButton.classList.add("fa-eye");
    }
  }
  $(document).ready(function() {
    $("#togglePassword").on("click", function() {
      togglePassword();
    });
  });
</script>
</body>


</html>


